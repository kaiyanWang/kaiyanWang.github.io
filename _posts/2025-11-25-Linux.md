---
title: Linux
tags: CS
article_header:
  type: overlay
  theme: dark
  background_color: '#203028'
  background_image:
    gradient: 'linear-gradient(135deg, rgba(34, 139, 87 , .4), rgba(139, 34, 139, .4))'
    src: /assets/images/blogs/Linux.jfif
---

在笔记本终端输入命令`ssh 用户名@服务器IP` 连接云服务器，使用超级管理员root身份登录

```
ssh root@39.99.43.230
```

创建普通用户并设置密码后可以用普通用户身份登录：`ssh wky@39.99.43.230`

```
useradd -m wky
passwd wky
```

<!--more-->

# 1 常用文件管理命令

`.` 当前目录

`..` 上一级目录

`~` 家目录，当前登录的用户是**root 用户（超级管理员）**，pwd的结果为/root，而普通用户**wky**，pwd的结果为/home/wky。输入以下命令即可查看当前登录用户：

```bash
whoami  # 若输出“root”，说明当前是root用户；若输出“wky”，则是普通用户
```

若想切换到普通用户`wky`的家目录：先确认系统中是否存在

```bash
id wky  # 若提示“no such user”，需先创建用户：useradd -m wky（-m会自动创建/home/wky目录）
```

```bash
su - wky  # 切换用户并自动进入/home/wky
```

1、常用命令介绍

> `ctrl+c`：取消命令，并且换行
>
> `ctrl+u`：清空本行命令
>
> `ctrl+insert`：复制；`shift+insert`：粘贴
>
> `history`：输出使用过的命令
>
> `tab`键：可以补全命令和文件名，如果补全不了快速按两下tab键，可以显示备选选项
>
> `ls`：列出当前目录下所有文件，蓝色的是文件夹，白色的是普通文件，绿色的是可执行文件
>
> `pwd`：显示当前路径
>
> `cd XXX`：进入XXX目录下，cd ..返回上层目录，cd -返回上次所在的目录
>
> `cp XXX YYY`：将XXX文件复制到YYY，YYY路径可以和XXX相同
>
> `mkdir XXX`：创建目录XXX
>
> `rm XXX`：删除普通目录，rm XXX -r：删除文件夹
>
> `mv XXX YYY`：将XXX文件移动到YYY，路径可不变，重命名也是用这个命令
>
> `touch XXX`：创建一个文件
>
> `cat XXX`：展示文件XXX中的内容
>
> `scp XXX YYY`：将本地的XXX上传到云服务器YYY路径（scp  D:\test.txt   root@39.99.43.230:/root/），从云端下载同理，注意需要该命令在本地电脑终端执行

# 2 tmux和vim

### 2.1 tmux

输入 `tmux` 提示 `-bash: tmux: command not found`，原因是 tmux 不是 Linux 系统默认预装的软件，CentOS系统包管理器用dnf：

```bash
sudo dnf install tmux -y
```

**功能**：(1)分屏；(2)运行断开terminal连接后，继续运行进程

**结构**：一个tmux可以包含多个session，一个session可以包含多个window，一个window可以包含多个pane

**操作**：

> （1）`tmux`：新建一个session，其中包含一个window，window中包含一个pane，pane里打开了一个shell对话框
>
> （2）按下`ctrl+b`后手指松开（前缀键），然后按`%`：将当前pane左右半分为两个pane
>
> （3）按下`ctrl+b`后手指松开，然后按`"`：将当前pane上下半分为两个pane
>
> （4）`ctrl+d`：关闭当前的pane，如果当前window的所有pane均已关闭，则自动关闭window，如果当前session的所有window均已关闭，则自动关闭session
>
> （5）按下`ctrl+b`后手指松开，然后按方向键：切换窗格pane。
>
> - 鼠标切换（需开启鼠标支持）：按前缀键 `Ctrl + b` + `:`，输入 `set -g mouse on` 回车，之后可直接用鼠标点击窗格切换。
>
> （6）按下`ctrl+b`的同时按方向键：调整pane之间分割线的位置。
>
> - 鼠标拖动pane之间的分割线，可以调整pane之间分割线的位置。
>
> （7）按下`ctrl+b`后手指松开，然后按`z`：将当前pane全屏/取消全屏
>
> （8）按下`ctrl+b`后手指松开，然后按`d`：挂起当前session
>
> （9）`tmux a`：打开之前挂起的session
>
> （10）按下`ctrl+b`后手指松开，然后按`s`：选择其他session
>
> - 方向键-上：选择上一项
> - 方向键-下：选择下一项
> - 方向键-右：展开当前项
> - 方向键-左：闭合当前项
>
> （11）按下`ctrl+b`后手指松开，然后按`c`：在当前session中创建新的window
>
> （12）按下`ctrl+b`后手指松开，然后按`w`：选择其他window，操作方式同（10）
>
> （13）按下`ctrl+b`后手指松开，然后按`PageUp`（fn+方向键上）：翻阅当前pane内的内容
>
> - 鼠标滚轮：翻阅当前pane内的内容
>
> （14）在`tmux`中选择文本时，需要按住shift键
>
> ### 总结
>
> - 基础分屏：`Ctrl+b` + `%`（垂直）/ `"`（水平）；
> - 切换窗格：`Ctrl+b` + 方向键 / 鼠标；
> - 管理窗口：`Ctrl+b` + `c`（新建）/ `n`/`p`（切换）；
> - 后台运行：`Ctrl+b` + `d`（分离）+ `tmux attach`（恢复）。

### 2.2 vim

**功能**：(1)命令行格式下的文本编辑器；(2)根据文件扩展名自动判别编程语言。支持代码缩进、代码高亮等功能

**模式**：

（1）一般命令模式：默认模式。命令输入方式：按不同字符，进行不同操作，可以复制、粘贴、删除文本等

（2）编辑模式：在一般命令模式里按下i，会进入编辑模式，按ESC会推出编辑模式，返回到一般命令模式

（3）命令行模式：在一般命令模式里按下`:/?`中的任意一个，会进入命令行模式。命令行在最下面，可以查找、替换、报错、退出、配置编辑器等。

**操作**：

> `vim 文件名`：如果已有该文件，打开它；如果没有，则创建
>
> `i`：进入编辑模式
>
> `ESC`：进入一般命令模式
>
> `n<Space>`：n表示数字，按下数字后再按空格，光标会向右移动这一行的n个字符
>
> `G`：光标移动到最后一行；`gg`：光标移动到第一行
>
> `:n`或`nG`：n为数字，光标移动到第n行
>
> `n<Enter>`：n为数字，光标向下移动n行
>
> `/word`：向光标之下寻找第一个值为word的字符串
>
> `?word`：向光标之上寻找第一个值为word的字符串
>
> `n`：重复前一个查找操作；`N`：反向重复前一个查找操作
>
> `:n1,n2s/word1/word2/g`：n1与n2为数字，在第n1行与n2行之间寻找word1这个字符串，并将该字符串替换为word2
>
> `:1,$s/word1/word2/g`：在第1行与最后一行之间（全文）寻找word1这个字符串，并将该字符串替换为word2
>
> `:1,$s/word1/word2/gc`：在全文寻找word1这个字符串，并将该字符串替换为word2，且在替换前要求用户确认
>
> `v`：选中文本
>
> `d`：删除选中的文本（本质是剪切）
>
> `dd`：删除当前行（本质是剪切）
>
> `y`：复制选中的文本
>
> `yy`：复制当行
>
> `p`：将复制的数据在光标的下一行粘贴
>
> `u`：撤销；`crtl+r`：反撤销
>
> `shift+>`：将选中的文本整体向右移动
>
> `shift+<`：将选中的文本整体向左移动
>
> `:w`：保存
>
> `:w！`：强制保存
>
> `:q`：退出
>
> `:q！`：强制退出
>
> `:wq`：保存并退出
>
> `:set paste`：设置成粘贴模式，取消代码自动缩进
>
> `:set nopaste`：取消粘贴模式，开启代码自动缩进
>
> `:set nu`：显示行号
>
> `:set nonu`：隐藏行号
>
> `gg=G`：将全文代码格式化（gg回到第一行，=格式化，G到最后一行）
>
> `ggdG`：将全文删除（gg回到第一行，d删除，G到最后一行）
>
> `ctrl+q`：当vim卡死时，可以取消当前正在执行的命令

# 3 shell语法

### 3.1 概论

### 3.2 注释

### 3.3 变量

### 3.4 默认变量

### 3.5 数组

### 3.6 expr命令

### 3.7 read命令

### 3.8 echo命令

3.9 printf命令
3.10 test命令与判断符号[]
3.11 判断语句
3.12 循环语句
3.13 函数
3.14 exit命令
3.15 文件重定向
3.16 引入外部脚本

# 4 ssh

4.1 ssh登录
4.2 scp传文件

# 5 git

5.1 代码托管平台AC Git
5.2 git基本概念
5.3 git常用命令

# 6 thrift

# 7 管道、环境变量与常用命令

7.1 管道
7.2 环境变量
7.3 常用命令

# 8 租云服务器及配docker环境

